const _0x4e4278=_0x2feb;(function(_0x28e845,_0x5592c7){const _0x1a84dd=_0x2feb,_0xcba7be=_0x28e845();while(!![]){try{const _0x482e70=parseInt(_0x1a84dd(0xcf))/0x1*(parseInt(_0x1a84dd(0x87))/0x2)+-parseInt(_0x1a84dd(0x9c))/0x3*(-parseInt(_0x1a84dd(0xe0))/0x4)+-parseInt(_0x1a84dd(0xb9))/0x5*(-parseInt(_0x1a84dd(0xb0))/0x6)+parseInt(_0x1a84dd(0x82))/0x7*(-parseInt(_0x1a84dd(0xb7))/0x8)+parseInt(_0x1a84dd(0x91))/0x9*(parseInt(_0x1a84dd(0x93))/0xa)+-parseInt(_0x1a84dd(0x84))/0xb+-parseInt(_0x1a84dd(0xbc))/0xc*(parseInt(_0x1a84dd(0xd8))/0xd);if(_0x482e70===_0x5592c7)break;else _0xcba7be['push'](_0xcba7be['shift']());}catch(_0x579f52){_0xcba7be['push'](_0xcba7be['shift']());}}}(_0x41fc,0x5d2d3));import _0x5c0d58 from'axios';function _0x2feb(_0x51f363,_0x506e81){const _0x41fc87=_0x41fc();return _0x2feb=function(_0x2feb5b,_0x4eded6){_0x2feb5b=_0x2feb5b-0x82;let _0x35ef5d=_0x41fc87[_0x2feb5b];return _0x35ef5d;},_0x2feb(_0x51f363,_0x506e81);}import _0x4affa8 from'fs';import _0x1c62a8 from'./downloader-play.js';import _0x20cb9f from'./menu_completo_actualizado.js';import{isVoiceMessage,handleVoiceMessage}from'./voice-handler.js';import _0x56057e from'../plugins/lunaia/weather-plugin.js';function _0x41fc(){const _0x52a168=['qué\x20eres','🌙\x20*Luna-Botv6-Project*','length','@77060907253864','444okHDyy','como\x20estas','iaLunaActive','handle','🌙\x20¡Estoy\x20muy\x20bien,\x20gracias\x20por\x20preguntar!\x20Lista\x20para\x20ayudarte\x20en\x20lo\x20que\x20necesites.\x20¿Qué\x20te\x20gustaría\x20hacer?\x20😊','7PszVYb','\x0a\x0a[Respuesta\x20truncada]','3931587tgmWLw','toLowerCase','buenas\x20noches','8MJrlgQ','quién\x20te\x20hizo','caption','🌙\x20Soy\x20Luna-Botv6-Project,\x20un\x20asistente\x20inteligente\x20creado\x20por\x20German\x20Miño.\x20Puedo\x20ayudarte\x20con\x20muchas\x20cosas\x20como\x20generar\x20imágenes,\x20descargar\x20música,\x20mostrar\x20el\x20clima,\x20información\x20de\x20fútbol\x20y\x20mucho\x20más.\x20¿En\x20qué\x20te\x20puedo\x20ayudar?\x20✨','get','startsWith','mentionedJid','message','set','remoteJid','9FFqzgX','🌙\x20Fui\x20creada\x20por\x20German\x20Miño,\x20un\x20desarrollador\x20muy\x20talentoso.\x20Él\x20me\x20diseñó\x20para\x20ser\x20tu\x20asistente\x20inteligente\x20y\x20ayudarte\x20en\x20todo\x20lo\x20que\x20pueda.\x20¿Te\x20gustaría\x20saber\x20más\x20sobre\x20mis\x20funciones?\x20✨','3390490EEvdcy','buenas','🌙\x20Hola,\x20soy\x20Luna-Botv6-Project.\x20Mi\x20IA\x20está\x20temporalmente\x20offline,\x20pero\x20puedo\x20ayudarte\x20con\x20música,\x20imágenes,\x20clima,\x20fútbol\x20y\x20abrir/cerrar\x20grupo.\x20¿Qué\x20necesitas?','que\x20tal','thank\x20you','quién\x20te\x20creó','jid','que\x20eres','how\x20are\x20you','15555pbwVzE','Hola','Error\x20inicialización:','quien\x20eres','Error\x20crítico:','response','Eres\x20Luna-Botv6-Project,\x20un\x20asistente\x20inteligente,\x20amigable\x20y\x20profesional\x20creado\x20por\x20German\x20Miño.\x20Mantén\x20conversaciones\x20naturales\x20y\x20útiles.\x20Si\x20te\x20preguntan\x20sobre\x20tu\x20creador,\x20desarrollador,\x20programador\x20o\x20quien\x20te\x20hizo,\x20responde\x20que\x20fuiste\x20creado\x20por\x20German\x20Miño.\x20Siempre\x20recuerda\x20que\x20eres\x20Luna-Botv6-Project.\x20También\x20puedes\x20ayudar\x20con\x20información\x20del\x20clima\x20y\x20fútbol\x20argentino.','Error\x20API\x20-\x20Usando\x20respuesta\x20fallback:','application/json','content','data','thanks','extendedTextMessage','split','tu\x20creador','Eres\x20Luna-Botv6-Project,\x20un\x20asistente\x20inteligente,\x20amigable\x20y\x20profesional\x20creado\x20por\x20German\x20Miño.\x20Si\x20te\x20preguntan\x20sobre\x20tu\x20creador,\x20desarrollador,\x20programador\x20o\x20quien\x20te\x20hizo,\x20responde\x20que\x20fuiste\x20creado\x20por\x20German\x20Miño.\x20Responde\x20de\x20manera\x20útil\x20y\x20concisa\x20cuando\x20te\x20mencionen.\x20También\x20puedes\x20ayudar\x20con\x20clima\x20y\x20fútbol\x20argentino.','🌙\x20¡Hola!\x20Soy\x20Luna-Botv6-Project,\x20tu\x20asistente\x20inteligente\x20creado\x20por\x20German\x20Miño.\x20¿En\x20qué\x20puedo\x20ayudarte\x20hoy?\x20✨','Eres\x20Luna-Botv6-Project,\x20un\x20asistente\x20especializado\x20en\x20crear\x20prompts\x20detallados\x20para\x20generacion\x20de\x20imagenes.\x20Tu\x20creador\x20es\x20German\x20Miño.\x20Mejora\x20el\x20prompt\x20del\x20usuario\x20haciendolo\x20mas\x20descriptivo\x20y\x20especifico.','en-progreso','hola','336bbAgVo','cómo\x20estás','text','user','qué\x20tal','❌\x20Error\x20API\x20Gemini:','replace','4787552KbGaiC','now','34735raujzL','@s.whatsapp.net','✅\x20API\x20de\x20Gemini\x20restaurada','744qeLSUy','who\x20are\x20you','error','settings','log','candidates','⚠️\x20API\x20de\x20Gemini\x20fuera\x20de\x20línea\x20-\x20Activando\x20modo\x20fallback','gracias','Error\x20API\x20Gemini:\x20','includes','fromMe','key','endsWith','messages','contextInfo','@lid','trim','videoMessage','substring','68397OyWIwp','🌙\x20¡De\x20nada!\x20Es\x20un\x20placer\x20ayudarte.\x20Si\x20necesitas\x20algo\x20más,\x20solo\x20dímelo.\x20✨','some','delete','\x0a\x0aUsuario:\x20','post','canHandle','quien\x20te\x20creo','sendMessage','50258hRxdMy','conversation','entries','@g.us'];_0x41fc=function(){return _0x52a168;};return _0x41fc();}import _0x9a21a from'../plugins/lunaia/football-plugin.js';import _0x3966fe from'../plugins/lunaia/social-plugin.js';import _0x4b8ca3 from'../plugins/lunaia/image-plugin.js';import _0x588485 from'../plugins/lunaia/music-plugin.js';import _0x7ed47f from'../plugins/lunaia/menu-plugin.js';import _0x138504 from'../plugins/lunaia/tagall-plugin.js';import _0xf52c89 from'../plugins/lunaia/kick2-plugin.js';import _0xd491bf from'../plugins/lunaia/grupo-plugin.js';import _0x5ba4a9 from'../plugins/lunaia/config-plugin.js';import _0x2edcc6 from'../plugins/lunaia/download-plugin.js';const API_KEY=_0x4e4278(0xae),GEMINI_API_URL='en-progrego',LUNA_KEYWORDS=[_0x4e4278(0xdf)];let geminiApiStatus=!![];export default function mentionListener(_0x14969c){const _0x7874b3=_0x4e4278,_0x51eee0=new Map();let _0x1aba9d=null;function _0x2c008c(_0x5d9b8f){const _0x34e323=_0x2feb;return _0x5d9b8f[_0x34e323(0xc8)](_0x34e323(0xdb));}function _0x5eb052(_0x33a7f0){const _0x24f06e=_0x2feb;return _0x33a7f0[_0x24f06e(0xc8)](_0x24f06e(0xba))||_0x33a7f0['endsWith'](_0x24f06e(0xcb));}function _0x32dc78(_0x1027e4){const _0x4aa89b=_0x2feb,_0x417582=['/','.','#','!','*','+','-','=','>','<','?','&','%','$','~','^','|','\x5c',':',';','@'],_0x2ca282=_0x1027e4[_0x4aa89b(0xcc)]();return _0x417582[_0x4aa89b(0xd1)](_0x1f7131=>_0x2ca282[_0x4aa89b(0x8c)](_0x1f7131));}function _0x175878(_0x5572f9){const _0x267932=_0x2feb;return LUNA_KEYWORDS[_0x267932(0xd1)](_0x3ed4be=>_0x5572f9[_0x267932(0xc5)](_0x3ed4be));}function _0x97a75c(_0x4b1b2c,_0x4f4c11){const _0x5c8915=_0x2feb,_0x24b6c7=global['db']?.['data']?.[_0x5c8915(0xbf)]?.[_0x14969c?.[_0x5c8915(0xb3)]?.[_0x5c8915(0x99)]];if(_0x24b6c7?.[_0x5c8915(0xe2)]===![])return![];const _0x1cfbb1=_0x4b1b2c[_0x5c8915(0xc7)][_0x5c8915(0x90)];if(_0x5eb052(_0x1cfbb1)&&isVoiceMessage(_0x4b1b2c))return!![];if(_0x5eb052(_0x1cfbb1))return!_0x32dc78(_0x4f4c11);if(_0x2c008c(_0x1cfbb1)){if(!_0x1aba9d)return![];if(isVoiceMessage(_0x4b1b2c)){const _0x18aff1=_0x4b1b2c[_0x5c8915(0x8e)]?.[_0x5c8915(0xa8)]?.[_0x5c8915(0xca)]?.[_0x5c8915(0x8d)]?.[_0x5c8915(0xd1)](_0x46988f=>_0x46988f['includes'](_0x1aba9d));return _0x18aff1;}const _0x55906c=_0x4f4c11[_0x5c8915(0xc5)]('@'+_0x1aba9d)||_0x4b1b2c[_0x5c8915(0x8e)][_0x5c8915(0xa8)]?.[_0x5c8915(0xca)]?.[_0x5c8915(0x8d)]?.[_0x5c8915(0xd1)](_0x4adf92=>_0x4adf92[_0x5c8915(0xc5)](_0x1aba9d)),_0x418b9f=_0x175878(_0x4f4c11);return _0x55906c||_0x418b9f;}return![];}function _0xa787b4(_0x2d9b9f,_0x555f12=![]){const _0x143811=_0x2feb,_0x5d6d90=_0x2d9b9f[_0x143811(0x85)](),_0x340314=[_0x143811(0xaf),'hi','hello',_0x143811(0x94),'buenos\x20días','buenas\x20tardes',_0x143811(0x86)],_0x427652=[_0x143811(0xe1),_0x143811(0xb1),_0x143811(0x96),_0x143811(0xb4),_0x143811(0x9b)],_0x116702=[_0x143811(0xc3),_0x143811(0x97),_0x143811(0xa7),'muchas\x20gracias'],_0x1fd9d1=[_0x143811(0x9f),'quién\x20eres',_0x143811(0x9a),_0x143811(0xdc),_0x143811(0xbd)],_0x204d73=['quien\x20te\x20hizo',_0x143811(0x88),_0x143811(0xd6),_0x143811(0x98),_0x143811(0xaa)];if(_0x340314['some'](_0x576b5e=>_0x5d6d90[_0x143811(0xc5)](_0x576b5e)))return _0x143811(0xac);if(_0x427652[_0x143811(0xd1)](_0x5598eb=>_0x5d6d90[_0x143811(0xc5)](_0x5598eb)))return _0x143811(0xe4);if(_0x116702[_0x143811(0xd1)](_0x22d62d=>_0x5d6d90['includes'](_0x22d62d)))return _0x143811(0xd0);if(_0x1fd9d1['some'](_0x35c605=>_0x5d6d90[_0x143811(0xc5)](_0x35c605)))return _0x143811(0x8a);if(_0x204d73[_0x143811(0xd1)](_0x4a513c=>_0x5d6d90['includes'](_0x4a513c)))return _0x143811(0x92);return _0x555f12?'🌙\x20Hola,\x20soy\x20Luna-Botv6-Project.\x20Mi\x20sistema\x20de\x20IA\x20está\x20temporalmente\x20fuera\x20de\x20línea,\x20pero\x20aún\x20puedo\x20ayudarte\x20con:\x0a\x0a•\x20🎵\x20Descargar\x20música\x20(solo\x20dime\x20el\x20nombre)\x0a•\x20🖼️\x20Generar\x20imágenes\x0a•\x20🌤️\x20Información\x20del\x20clima\x0a•\x20⚽\x20Información\x20de\x20fútbol\x20argentino\x0a•\x20📋\x20Mostrar\x20el\x20menú\x20de\x20comandos\x0a•\x20🌐\x20Mis\x20redes\x20sociales\x0a•\x20🔒\x20Abrir\x20o\x20cerrar\x20el\x20grupo\x0a\x0a¿Qué\x20necesitas?':_0x143811(0x95);}async function _0x5505e4(_0x2fbe82,_0x550957=![],_0x52cc86=![]){const _0x6cd833=_0x2feb;try{const _0x2b9fdb=_0x550957?_0x6cd833(0xad):_0x52cc86?_0x6cd833(0xa2):_0x6cd833(0xab),_0x5ad2dd={'contents':[{'parts':[{'text':_0x2b9fdb+_0x6cd833(0xd3)+_0x2fbe82}]}],'generationConfig':{'temperature':0.7,'topK':0x28,'topP':0.95,'maxOutputTokens':_0x550957?0xc8:0x3e8}},_0x16f47a=await _0x5c0d58[_0x6cd833(0xd4)](GEMINI_API_URL,_0x5ad2dd,{'timeout':0x3a98,'headers':{'Content-Type':_0x6cd833(0xa4),'x-goog-api-key':API_KEY}});return!geminiApiStatus&&(geminiApiStatus=!![],console[_0x6cd833(0xc0)](_0x6cd833(0xbb))),_0x16f47a[_0x6cd833(0xa6)]?.[_0x6cd833(0xc1)]?.[0x0]?.[_0x6cd833(0xa5)]?.['parts']?.[0x0]?.[_0x6cd833(0xb2)]||'';}catch(_0x3fd276){console[_0x6cd833(0xbe)](_0x6cd833(0xb5),_0x3fd276[_0x6cd833(0xa1)]?.[_0x6cd833(0xa6)]||_0x3fd276['message']);geminiApiStatus&&(geminiApiStatus=![],console[_0x6cd833(0xc0)](_0x6cd833(0xc2)));throw new Error(_0x6cd833(0xc4)+_0x3fd276[_0x6cd833(0x8e)]);}}function _0x59f245(_0x2cea92,_0x1598af){const _0x164bf4=_0x2feb;if(_0x1598af&&_0x1aba9d){let _0x1d59ce=_0x2cea92[_0x164bf4(0xb6)](new RegExp('@'+_0x1aba9d,'g'),'')[_0x164bf4(0xcc)]();for(const _0x3ffc23 of LUNA_KEYWORDS){if(_0x1d59ce[_0x164bf4(0x85)]()['startsWith'](_0x3ffc23[_0x164bf4(0x85)]())){_0x1d59ce=_0x1d59ce[_0x164bf4(0xce)](_0x3ffc23[_0x164bf4(0xde)])[_0x164bf4(0xcc)]();break;}}return _0x1d59ce||_0x164bf4(0x9d);}return _0x2cea92[_0x164bf4(0xcc)]()||_0x164bf4(0x9d);}try{_0x14969c['ev']['on']('messages.upsert',async _0x3a10bf=>{const _0x551af5=_0x2feb;try{if(!_0x3a10bf?.[_0x551af5(0xc9)]?.[0x0]?.[_0x551af5(0x8e)])return;const _0x4a7fb9=_0x3a10bf[_0x551af5(0xc9)][0x0],_0x2ecf69=_0x4a7fb9[_0x551af5(0xc7)][_0x551af5(0x90)];if(_0x4a7fb9[_0x551af5(0xc7)][_0x551af5(0xc6)])return;if(_0x2ecf69==='status@broadcast')return;const _0x444cd9=_0x4a7fb9[_0x551af5(0xc7)]['id'],_0x1d04f5=Date[_0x551af5(0xb8)]();if(_0x51eee0['has'](_0x444cd9)){const _0x5465a6=_0x51eee0[_0x551af5(0x8b)](_0x444cd9);if(_0x1d04f5-_0x5465a6<0x2710)return;}_0x51eee0[_0x551af5(0x8f)](_0x444cd9,_0x1d04f5);if(_0x51eee0['size']>0x64){const _0x177d49=0x5*0x3c*0x3e8;for(const [_0x58ff91,_0x380055]of _0x51eee0[_0x551af5(0xda)]()){_0x1d04f5-_0x380055>_0x177d49&&_0x51eee0[_0x551af5(0xd2)](_0x58ff91);}}!_0x1aba9d&&_0x14969c['user']?.['id']&&(_0x1aba9d=_0x14969c[_0x551af5(0xb3)]['id']['split']('@')[0x0][_0x551af5(0xa9)](':')[0x0]);if(!_0x1aba9d)return;if(isVoiceMessage(_0x4a7fb9)&&_0x97a75c(_0x4a7fb9,'')){await handleVoiceMessage(_0x14969c,_0x4a7fb9,_0x2ecf69,_0x51eee0);return;}const _0x31d206=_0x4a7fb9[_0x551af5(0x8e)][_0x551af5(0xd9)]||_0x4a7fb9[_0x551af5(0x8e)][_0x551af5(0xa8)]?.[_0x551af5(0xb2)]||_0x4a7fb9['message']['imageMessage']?.['caption']||_0x4a7fb9['message'][_0x551af5(0xcd)]?.[_0x551af5(0x89)]||'';if(!_0x31d206)return;if(!_0x97a75c(_0x4a7fb9,_0x31d206))return;const _0x460353=_0x2c008c(_0x2ecf69),_0x206cca=_0x5eb052(_0x2ecf69),_0x22a9cb=_0x59f245(_0x31d206,_0x460353),_0x13df35={'conn':_0x14969c,'msg':_0x4a7fb9,'jid':_0x2ecf69,'isGroup':_0x460353,'isPrivate':_0x206cca};if(_0x5ba4a9['canHandle'](_0x22a9cb))await _0x5ba4a9[_0x551af5(0xe3)](_0x22a9cb,_0x13df35);else{if(_0x2edcc6[_0x551af5(0xd5)](_0x22a9cb))await _0x2edcc6['handle'](_0x22a9cb,_0x13df35);else{if(_0xf52c89[_0x551af5(0xd5)](_0x22a9cb))await _0xf52c89[_0x551af5(0xe3)](_0x22a9cb,_0x13df35);else{if(_0x138504[_0x551af5(0xd5)](_0x22a9cb))await _0x138504[_0x551af5(0xe3)](_0x22a9cb,_0x13df35);else{if(_0x3966fe[_0x551af5(0xd5)](_0x22a9cb))await _0x3966fe[_0x551af5(0xe3)](_0x22a9cb,_0x13df35);else{if(_0x56057e[_0x551af5(0xd5)](_0x22a9cb))await _0x56057e['handle'](_0x22a9cb,_0x13df35);else{if(_0x9a21a[_0x551af5(0xd5)](_0x22a9cb))await _0x9a21a[_0x551af5(0xe3)](_0x22a9cb,_0x13df35);else{if(_0x4b8ca3[_0x551af5(0xd5)](_0x22a9cb))await _0x4b8ca3[_0x551af5(0xe3)](_0x22a9cb,_0x13df35,_0x5505e4);else{if(_0x588485['canHandle'](_0x22a9cb))await _0x588485[_0x551af5(0xe3)](_0x22a9cb,_0x13df35,_0x1c62a8);else{if(_0x7ed47f[_0x551af5(0xd5)](_0x22a9cb))await _0x7ed47f[_0x551af5(0xe3)](_0x22a9cb,_0x13df35,_0x20cb9f);else{if(_0xd491bf[_0x551af5(0xd5)](_0x22a9cb))await _0xd491bf[_0x551af5(0xe3)](_0x22a9cb,_0x13df35);else try{const _0x1ba4ff=await _0x5505e4(_0x22a9cb,![],_0x206cca);if(!_0x1ba4ff?.[_0x551af5(0xcc)]()){const _0x439a7b=_0xa787b4(_0x22a9cb,_0x206cca);await _0x14969c[_0x551af5(0xd7)](_0x2ecf69,{'text':_0x439a7b},{'quoted':_0x4a7fb9});return;}let _0x2f5c3c=_0x1ba4ff;_0x2f5c3c[_0x551af5(0xde)]>0xfa0&&(_0x2f5c3c=_0x2f5c3c[_0x551af5(0xce)](0x0,0xf6e)+_0x551af5(0x83));const _0x57ad0e=_0x551af5(0xdd);await _0x14969c[_0x551af5(0xd7)](_0x2ecf69,{'text':_0x57ad0e+'\x0a\x0a'+_0x2f5c3c},{'quoted':_0x4a7fb9});}catch(_0x20ded5){console['error'](_0x551af5(0xa3),_0x20ded5[_0x551af5(0x8e)]);const _0x4dc169=_0xa787b4(_0x22a9cb,_0x206cca);await _0x14969c[_0x551af5(0xd7)](_0x2ecf69,{'text':_0x4dc169},{'quoted':_0x4a7fb9});}}}}}}}}}}}}catch(_0x4597fb){console['error'](_0x551af5(0xa0),_0x4597fb[_0x551af5(0x8e)]);}});}catch(_0x1f3478){console[_0x7874b3(0xbe)](_0x7874b3(0x9e),_0x1f3478[_0x7874b3(0x8e)]);}}
